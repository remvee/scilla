<HTML>
  <HEAD>
    <TITLE>Scilla installation guide</TITLE>
  </HEAD>
  <BODY>
    <H1>Scilla installation guide</H1>

    <H2>Requirements</H2>
    <P>
      Several applications are needed to run Scilla.  Here is a list
      of packages needed to fully deploy Scilla.
      <DL>
	<DT>Ant</DT>
	<DD>Used to build and install Scilla.  Available at the
	  <A href="http://jakarta.apache.org/">Jakarta project</A>.
	</DD>
	<DT>Tomcat</DT>
	<DD>A servlet/ JSP application server used to deploy Scilla.
	  Also available at the
	  <A href="http://jakarta.apache.org/">Jakarta project</A>.
	</DD>
	<DT>ImageMagick</DT>
	<DD>A image manipulation suite.  Available at the
	  <A href="http://www.imagemagick.org/">ImageMagick homepage</A>.
	</DD>
	<DT>Lame</DT>
	<DD>A MP3 encoder used to recode MP3 files and encode WAV
	  files to MP3.  Available at the
	  <A href="http://www.sulaco.org/mp3/">Lame homepage</A>.
	</DD>
	<DT>FFMpeg</DT>
	<DD>A video format converter.  Available at the
	  <A href="http://ffmpeg.sourceforge.net/">FFMpeg homepage</A>.
	</DD>
	<DT>JAI</DT>
	<DD>Java Advanced Imaging API.  Available at the
	  <A href="http://java.sun.com/products/java-media/jai/">Sun
	  Microsystems</A>.
	</DD>
      </DL>
    </P>

    <H2>Installation</H2>
    <P>
      Extract the distributed zip or tar.gz file and change directory
      to the <CODE>examples</CODE> directory.  This directory
      contains a Ant build file called
      <A href="examples/build.xml"><CODE>build.xml</CODE></A>.
      This file is used to compile all the Scilla Java classes and
      setup the Scilla configuration.
    </P>
    <P>
      The build file uses several parameters to setup the
      configuration.
      <TABLE border="1">
	<TR>
	  <TH>Property</TH>
	  <TH>Description</TH>
	  <TH>Default value</TH>
	</TR>
	<TR>
	  <TD><CODE>build.compiler</CODE></TD>
	  <TD>Standard Ant property to determine which Java compile is
	    used.
	  <TD><CODE>jikes</CODE></TD>
	</TR>
	<TR>
	  <TD><CODE>tomcat.home</CODE></TD>
	  <TD>Points to the directory where tomcat is installed.</TD>
	  <TD><CODE>/usr/local/tomcat</CODE></TD>
	<TR>
	  <TD><CODE>imagick.exec</CODE></TD>
	  <TD>Full path of the <CODE>convert</CODE> executable</TD>
	  <TD><CODE>/usr/local/bin/convert</CODE></TD>
	</TR>
	<TR>
	  <TD><CODE>lame.exec</CODE></TD>
	  <TD>Full path of the <CODE>lame</CODE> executable</TD>
	  <TD><CODE>/usr/local/bin/lame</CODE></TD>
	</TR>
	<TR>
	  <TD><CODE>ffmpeg.exec</CODE></TD>
	  <TD>Full path of the <CODE>ffmpeg</CODE> executable</TD>
	  <TD><CODE>/usr/local/bin/ffmpeg</CODE></TD>
	</TR>
      </TABLE>
    </P>
    <P>
      Install Scilla by running Ant.  Here is an example:
<PRE>
$ ant -Dtomcat.home=/opt/tomcat
Buildfile: build.xml

prepare:
    [mkdir] Created dir: /opt/tomcat/webapps/scilla/WEB-INF
     [copy] Copying 1 file to /opt/tomcat/webapps/scilla/WEB-INF
     [copy] Copying 11 files to /opt/tomcat/webapps/scilla
    [mkdir] Created dir: /opt/tomcat/webapps/scilla/WEB-INF/lib
    [mkdir] Created dir: /opt/tomcat/webapps/scilla/WEB-INF/classes
    [mkdir] Created dir: /hm/remco/work/projects/scilla/examples/data/cache

scilla:

prepare:

compile.all:

compile.nojai:
    [javac] Compiling 29 source files to /opt/tomcat/webapps/scilla/WEB-INF/classes

compile:
     [copy] Copying 2 files to /opt/tomcat/webapps/scilla/WEB-INF/classes

prepare:

config:
   [delete] Deleting: /opt/tomcat/webapps/scilla/WEB-INF/classes/org/scilla/Config.properties
     [copy] Copying 1 file to /opt/tomcat/webapps/scilla/WEB-INF/classes/org/scilla

compile:
    [javac] Compiling 2 source files to /opt/tomcat/webapps/scilla/WEB-INF/classes

all:
     [echo] FIN

BUILD SUCCESSFUL

Total time: 6 seconds
</PRE>
      In this example all but the <CODE>tomcat.home</CODE> defaults
      are used.  JAI is not available so the JAI converter is not
      compiled.  The other converters will always be compiled even
      when they are not installed on the machine.
    </P>
    <P>
      Now restart the Tomcat server and point your browser to
      something like
      <A href="http://localhost:8080/scilla/">http://localhost:8080/scilla/</A>.
      A page with links to the examples should be visible now.  Drop
      some MP3 files (or make symlinks) in the
      <CODE>examples/data/source</CODE> directory to make them
      available for the MP3 browser.
    </P>

    <H2>Usage</H2>
    <P>
      Please look at the included <CODE>build.xml</CODE> files to
      details on installation and look at the examples JSPs (and HTML
      source as generated by the JSPs) for pointers on the usage of
      the converters.  All converters are documented using
      <CODE>javadoc</CODE>.  Run <CODE>ant doc</CODE> at the top level
      of the distributed source to generate it.
    </P>

    <HR>
    <DIV align="right"><SMALL>$Revision: 1.2 $</SMALL></DIV>
  </BODY>
</HTML>
